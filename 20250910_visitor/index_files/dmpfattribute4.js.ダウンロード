const DmpfAttribute2={checkDmpfDomain:function(a){return 0==a.length||-1==a.indexOf("docomo.ne.jp")?!1:!0},startSlashCheck:function(a){0<a.length&&"//"!==a.substring(0,2)&&"http"!==a.substring(0,4)&&(a="//"+a);return a},endSlashCheck:function(a){"/"===a.substring(a.length-1)&&(a=a.substr(0,a.length-1));return a},getDcmTrackCookieId:function(){if(window.navigator.cookieEnabled&&document.cookie){let a=document.cookie.split("; ");for(let b=0;b<a.length;b++){let c=a[b].split("=");if("daxtr"==c[0])return c[1].split(".")[0]}}return""},
convAttrParam:function(a){let b="",c=0;for(let d=0;d<a.length&&50>c;d++){b+=a[d].table+"(";for(let e=0;e<a[d].column.length&&!(50<=c);e++)b+=a[d].column[e],c++,e<a[d].column.length-1&&50>c&&(b+="_");b+=")"}return b},makeSegCookie:function(a){let b="";var c=new Date;c.setTime(c.getTime()+2592E6);c=c.toUTCString();if(a){if(-1==document.cookie.indexOf("dasg="))for(var d in a)for(var e in a[d])b+=d+e+"."+a[d][e]+"_";else{d=DmpfAttribute2.getSegCookie();let k;for(const f in a)for(const g in a[f]){e=!0;
k=f+g+".";for(let h=0;h<d.length;h++)if(0===d[h].lastIndexOf(k,0)){d[h]=k+a[f][g];e=!1;break}e&&d.push(k+a[f][g])}for(a=0;a<d.length;a++)b+=d[a]+"_"}b=b.slice(0,-1);document.cookie="dasg="+b+";expires="+c+"; path=/"}},getSegCookie:function(){let a;if(0<document.cookie.length){var b=document.cookie.indexOf("dasg=");if(-1!=b)return b=b+4+1,a=document.cookie.indexOf(";",b),-1==a&&(a=document.cookie.length),b=decodeURIComponent(document.cookie.substring(b,a)),b=b.split("_")}return[]},createRequest:function(){let a=
null;window.XMLHttpRequest?(a=new XMLHttpRequest,"undefined"!=typeof a.overrideMimeType&&a.overrideMimeType("application/json")):window.ActiveXObject&&(a=new ActiveXObject("Microsoft.XMLHTTP"));return a},checkStopFlg:function(){if(window.navigator.cookieEnabled&&document.cookie){let a=document.cookie.split("; ");for(let b=0;b<a.length;b++){let c=a[b].split("=");if("dasg_updstopflg"==c[0]&&1==unescape(c[1]))return!1}}return!0},makeStopFlag:function(){var a=new Date;window.navigator.cookieEnabled&&
(a.setTime(a.getTime()+864E5),a=a.toUTCString(),document.cookie="dasg_updstopflg=1;expires="+a+"; path=/")}};
function getDmpfUserAttribute2(a,b,c,d){window._daUserAttrResult=null;if(DmpfAttribute2.checkStopFlg())if(DmpfAttribute2.makeStopFlag(),DmpfAttribute2.checkDmpfDomain(a)){c=DmpfAttribute2.convAttrParam(c);var e=DmpfAttribute2.getDcmTrackCookieId();if(e){var k=2E3,f=DmpfAttribute2.createRequest();try{f.withCredentials=!0}catch(g){}if(0<d){const g=JSON.parse('{"resultCode" : "2000"}');k=setTimeout(function(h){void 0===h&&(h=JSON.parse('{"resultCode" : "2000"}'));f.abort();getDmpfUserAttributeResultRelay2(h)},
d,g)}a=a+"?cookieId="+e+"&idsite="+b+"&url="+location.href.split("?")[0]+"&targetSet="+c;f.onreadystatechange=function(){if(4==f.readyState&&200==f.status){const g=JSON.parse(f.responseText);DmpfAttribute2.makeSegCookie(g.attributeInfoMap);g.resultCode||(g.resultCode="2001");getDmpfUserAttributeResult2(g);clearTimeout(k)}};f.open("GET",a,!0);f.send()}else getDmpfUserAttributeResultRelay2(JSON.parse('{"resultCode" : "1002"}'))}else getDmpfUserAttributeResultRelay2(JSON.parse('{"resultCode" : "1000"}'));
else getDmpfUserAttributeResultRelay2(JSON.parse('{"resultCode" : "1005"}'))}function getDmpfUserAttributeResultRelay2(a){const b=window._daUserAttrResult;if(!(b&&b.ioo&&b.ioo())){try{const c=window.external;if(c&&c._daUserAttrResult&&"oo"==c._daUserAttrResult)return}catch(c){}window._daUserAttrResult={ioo:function(){return!0}};getDmpfUserAttributeResult2(a)}};
